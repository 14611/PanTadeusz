<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pan Tadeusz</title>
    <!-- Dodanie Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body class="bg-light">
    <!-- Navbar (Pasek nawigacyjny) -->
    <header class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.php">Pan Tadeusz</a>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row mt-3">
            <!-- Pasek boczny -->
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-dark sidebar p-5 vh-100">
                <div class="position-sticky">
                    <ol id="bookList" class="nav flex-column"></ol>
                </div>
            </nav>

            <!-- Blok główny -->
            <main id="mainContent" class="col-md-9 ms-sm-auto col-lg-10 px-md-4 p-5">
                <div class="text-center">
                    <h1>Pan Tadeusz, czyli ostatni zajazd na Litwie: historia szlachecka z roku 1811 i 1812 we dwunastu księgach wierszem.</h1>
                </div>
                <div id="bookContent" class="text-center mb-0"></div>
            </main>
        </div>
    </div>
    <!-- Koniec Blok główny -->

    <!-- Stopka -->
    <footer class="footer mt-auto py-3 bg-primary">
        <div class="container">
            <span class="text-muted">© 2023 Adrian Węglarz</span>
        </div>
    </footer>

    <!-- Dodanie Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MFmzEYCErVRth4LI+pG+WJGx8ZYxyF0lYjFqpQl25BUKJL5zgxkdjVb6z5v5bRvo" crossorigin="anonymous"></script>

    <!-- Skrypt JavaScript -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var bookList = document.getElementById("bookList");
            var mainContent = document.getElementById("mainContent");
            var bookContent = document.getElementById("bookContent");

            // Tworzenie listy ksiąg
            for (var i = 1; i <= 12; i++) {
                var listItem = document.createElement("li");
                var link = document.createElement("a");
                link.classList.add("nav-link");
                link.href = "#";
                link.textContent = "Księga " + i;
                link.addEventListener("click", function (event) {
                    event.preventDefault();
                    var bookNumber = event.target.textContent.split(" ")[1];
                    fetchBookContent(bookNumber);
                });
                listItem.appendChild(link);
                bookList.appendChild(listItem);
            }

            // Funkcja do pobierania treści księgi
            function fetchBookContent(bookNumber) {
                fetch("k" + bookNumber + ".html")
                    .then(function (response) {
                        return response.text();
                    })
                    .then(function (data) {
                        bookContent.innerHTML = data;
                    })
                    .catch(function (error) {
                        console.error("Błąd podczas pobierania treści księgi:", error);
                        bookContent.innerHTML = '<p class="text-danger">Błąd: Nieprawidłowy numer księgi.</p>';
                    });
            }
        });
    </script>
</body>
</html>
