<!DOCTYPE html>
<html lang="pl">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pan Tadeusz</title>
        <!-- Dodanie Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    </head>

    <body class="bg-light">
        <!-- Navbar (Pasek nawigacyjny) -->
        <header class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
            <div class="container-fluid">
                <a class="navbar-brand" href="index.html">Pan Tadeusz</a>
            </div>
        </header>
        <div class="container-fluid">
            <div class="row mt-3">
                <!-- Pasek boczny -->
                <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-dark sidebar p-5 vh-100">
                    <div class="position-sticky">
                        <ol id="bookList" class="nav flex-column"></ol>
                    </div>
                </nav>

                <!-- Blok główny -->
                <main id="mainContent" class="col-md-9 ms-sm-auto col-lg-10 px-md-4 p-5">
                    <div class="text-center">
                        <h1>Pan Tadeusz, czyli ostatni zajazd na Litwie: historia szlachecka z roku 1811 i 1812 we dwunastu księgach wierszem.</h1>
                    </div>
                    <div id="bookContent" class="text-center mb-0">HUJ</div>
                </main>
            </div>
        </div>
        <!-- Koniec Blok główny. -->

        <!-- Stopka -->
        <footer class="footer mt-auto py-3 bg-primary">
            <div class="container">
                <span class="text-muted">© 2023 Adrian Węglarz</span>
            </div>
        </footer>

        <!-- Dodanie Bootstrap JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MFmzEYCErVRth4LI+pG+WJGx8ZYxyF0lYjFqpQl25BUKJL5zgxkdjVb6z5v5bRvo" crossorigin="anonymous"></script>

        <!-- Skrypt JavaScript -->
        <script>
                                document.addEventListener("DOMContentLoaded", function() {
        var bookList = document.getElementById("bookList");
        var bookContent = document.getElementById("bookContent");

        // Tworzenie listy ksiąg
        for (var i = 1; i <= 12; i++) {
            var listItem = document.createElement("li");
            listItem.classList.add("nav-item");
            var link = document.createElement("a");
            link.classList.add("nav-link");
            link.href = "?book=" + i;
            link.textContent = "Księga " + i;
            listItem.appendChild(link);
            bookList.appendChild(listItem);
        }

        // Sprawdzanie parametru book w adresie URL
        var urlParams = new URLSearchParams(window.location.search);
        var bookNumber = urlParams.get('book');

        // Wyświetlanie treści księgi, jeśli parametr book jest ustawiony
        if (bookNumber !== null && bookNumber >= 1 && bookNumber <= 12) 
        {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'k' + bookNumber + '.html');

                    bookContent.innerHTML = xhr.responseText;
            xhr.send();
        } 
        else 
        {
            // Jeśli parametr book nie jest ustawiony lub niepoprawny, wyświetl domyślny obrazek
            bookContent.innerHTML = '<div class="text-center mb-0"><img src="1.jpg" alt="Obraz"></div>';
        }
    });
    </script>
</body>
</html>
